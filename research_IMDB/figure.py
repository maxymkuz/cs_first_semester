import pandas as pd
import matplotlib.pyplot as plt
import numpy as np


def get_average(d):
    counter, suma = 0, 0
    for key in d:
        counter += 1
        suma += d[key]
    return suma/counter


dictionary = {1970: [644.28125], 1971: [508.8235294117647], 1972: [628.970542635659],
              1973: [1018.9782244556114], 1974: [1109.6477987421383]}


comedy = {1970: 644.28125, 1971: 508.8235294117647, 1972: 628.970542635659, 1973: 1018.9782244556114, 1974: 1109.6477987421383, 1975: 1823.4363905325445, 1976: 666.6998514115899, 1977: 922.3527397260274, 1978: 569.1726283048212, 1979: 906.813056379822, 1980: 1166.3762237762237, 1981: 995.7353342428377, 1982: 1340.8287937743191, 1983: 776.7727873183619, 1984: 1666.5126050420167, 1985: 1350.8709677419354, 1986: 2261.178983833718, 1987: 2248.4927234927236, 1988: 2038.7879746835442, 1989: 2673.1136363636365, 1990: 2097.8035714285716, 1991: 1855.1612903225807, 1992: 1777.681861348528, 1993: 2805.838477366255, 1994: 2563.4470260223047, 1995: 1729.471566054243, 1996: 2698.141331142153, 1997: 1872.5318518518518, 1998: 3200.8491847826085, 1999: 2607.670441001192, 2000: 2486.658395845355, 2001: 3266.403275332651, 2002: 2279.094690265487, 2003: 2410.8348231636223, 2004: 2265.9950407368046, 2005: 1701.0662251655629, 2006: 1925.1169201520913, 2007: 2306.80536473667, 2008: 2140.1480472297912, 2009: 1786.4428005284017, 2010: 1904.2257250945775, 2011: 1623.7504826254826, 2012: 1255.6889383815887, 2013: 1650.8426490066224, 2014: 1414.5986779981115, 2015: 971.62689926843}

# in thousands
animation = {1970: 72.196, 1971: 121.268, 1972: 45.535, 1973: 184.34, 1974: 239.751, 1975: 53.842, 1976: 45.661, 1977: 87.822, 1978: 83.346, 1979: 77.035, 1980: 54.587, 1981: 127.294, 1982: 124.021, 1983: 262.839, 1984: 63.387, 1985: 320.376, 1986: 514.208, 1987: 165.276, 1988: 191.683, 1989: 125.879, 1990: 134.713, 1991: 176.292, 1992: 185.808, 1993: 488.542, 1994: 254.273, 1995: 327.998, 1996: 471.451, 1997: 909.792, 1998: 479.815, 1999: 550.271, 2000: 835.244, 2001: 419.808, 2002: 734.957, 2003: 691.918, 2004: 915.358, 2005: 607.728, 2006: 945.78, 2007: 1292.644, 2008: 540.804, 2009: 790.967, 2010: 668.025, 2011: 827.556, 2012: 811.327, 2013: 617.292, 2014: 839.345, 2015: 151.154}

Documentary = {1970: 72.196, 1971: 121.268, 1972: 45.535, 1973: 184.34, 1974: 239.751, 1975: 53.842, 1976: 45.661, 1977: 87.822, 1978: 83.346, 1979: 77.035, 1980: 54.587, 1981: 127.294, 1982: 124.021, 1983: 262.839, 1984: 63.387, 1985: 320.376, 1986: 514.208, 1987: 165.276, 1988: 191.683, 1989: 125.879, 1990: 134.713, 1991: 176.292, 1992: 185.808, 1993: 488.542, 1994: 254.273, 1995: 327.998, 1996: 471.451, 1997: 909.792, 1998: 479.815, 1999: 550.271, 2000: 835.244, 2001: 419.808, 2002: 734.957, 2003: 691.918, 2004: 915.358, 2005: 607.728, 2006: 945.78, 2007: 1292.644, 2008: 540.804, 2009: 790.967, 2010: 668.025, 2011: 827.556, 2012: 811.327, 2013: 617.292, 2014: 839.345, 2015: 151.154}
# for key in animation:
#     animation[key] = animation[key]/1000
# for key in animation:
#     animation[key] = animation[key][0]
# for key in comedy:
#     comedy[key] = comedy[key][0]
# print(Documentary)
print(animation)

a, b, c, d, e, f = [], [], [], [], [], []
for key in Documentary:
    a.append(key)
    print(Documentary[key])
    b.append(int(Documentary[key]))
for key in animation:
    c.append(key)
    d.append(int(animation[key]))
for key in comedy:
    e.append(key)
    f.append(int(comedy[key]))

avg_documentary = get_average(Documentary)
avg_animation = get_average(animation)
avg_comedy = get_average(comedy)

fig = plt.figure()  # figsize=(10, 8)


ax = fig.add_subplot(221)
ax.plot(a, [avg_animation]*len(a), color='red', label='average')


ax.plot(c, d, color='green', label='Anime')
ax.legend()

ax2 = fig.add_subplot(222)

ax2.plot(a, b, color='blue', label='Documentary')
ax2.plot(a, [avg_documentary]*len(a), color='red', label='average')
ax2.legend()

ax3 = fig.add_subplot(223)
ax3.plot(e, [avg_comedy]*len(a), color='red', label='average')
ax3.plot(e, f, color='blue', label='Comedy')

ax3.legend()

ax4 = fig.add_subplot(224)
ax4.plot(a, b, color='blue', label='Comedy')
ax4.legend()

plt.show()

# ax.title("Title")
# ax.xlabel("Xlabel")

# ax2.barh(np.linspace(1970, 2000, 30), np.linspace(0, 50, 30), label='ljdfjk')
# ax1.bar([1,2,3],[3,4,5])
# ax2.barh([0.5,1,2.5],[0,1,2])
# ax2.axhline(0.45)
# ax1.axvline(0.65)
# ax3.scatter(x,y)
